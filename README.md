# certbot-dns-sakuracloud

## Overview

If you are using Sakura Cloud DNS
Container that automatically obtains certificates by setting environment Variables

さくらのクラウド DNS を使用している場合に
環境変数を設定することで自動的に証明書を取得するコンテナ

## environment

| Variables                       | Required | Overview                                                                                                                                                                                                                                                                                                                              | Reference                                                                         |
| :------------------------------ | :------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------- |
| SAKURACLOUD_ACCESS_TOKEN        | true     | Sakura Cloud DNS Access Token Key <br /> さくらのクラウド DNS のアクセストークンを指定                                                                                                                                                                                                                                                | sakura-cloud                                                                      |
| SAKURACLOUD_ACCESS_TOKEN_SECRET | true     | Sakura Cloud DNS Access Token Secret Key <br /> さくらのクラウド DNS のアクセストークンシークレットを指定                                                                                                                                                                                                                             | sakura-cloud                                                                      |
| EMAIL                           | true     | Certificate management email address 　<br /> let's encrypt へ登録する管理用メールアドレス                                                                                                                                                                                                                                            | admin@example.com                                                                 |
| DOMAIN_NS_DPS                   | true     | DOMAIN Name and NameSpace and Deployment Name <br /> ドメイン名:k8s ネームスペース:ネームスペースに存在するデプロイメント名                                                                                                                                                                                                           | `example.com:example-space:nginx-deploy example.com2:example2-space:nginx-deploy` |
| SLEEP_TIME                      | false    | Sleep Time <br /> TXT 更新後の停止する時間                                                                                                                                                                                                                                                                                            | 120(Default)                                                                      |
| K8S_CM                          | false    | Generate kubernetes ConfigMap <br /> ConfigMap を生成するかどうか                                                                                                                                                                                                                                                                     | Y(Default) or N                                                                   |
| CERTBOT_SUBCOMMAND              | false    | certbot subcommand arguments(If the `/etc/letsencrypt/live/${DOMAIN}` directory exists, `renew` is the default argument. Also add --days 30 to the argument) <br /> certbot のサブコマンド引数(`/etc/letsencrypt/live/\${DOMAIN}`ディレクトリが存在する場合は `renew` がデフォルト引数になります。また、--days 30 を引数に追加します) | certonly or renew(Default)                                                        |
| DEBUG                           | false    | Added dry-run to certbot argument <br /> certbot の引数に dry-run を追加                                                                                                                                                                                                                                                              | N(Default)                                                                        |
| CERTBOT_ARGS                    | false    | certbot arguments <br /> ccertbot の引数                                                                                                                                                                                                                                                                                              | --arg(Default "")                                                                 |
